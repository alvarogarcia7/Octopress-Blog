<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Octopress | Parsia's Den]]></title>
  <link href="http://parsiya.net/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://parsiya.net/"/>
  <updated>2015-11-15T20:32:03-05:00</updated>
  <id>http://parsiya.net/</id>
  <author>
    <name><![CDATA[Parsiya]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Image Popup and Octopress]]></title>
    <link href="http://parsiya.net/blog/2015-07-26-image-popup-and-octopress/"/>
    <updated>2015-07-26T23:02:58-04:00</updated>
    <id>http://parsiya.net/blog/image-popup-and-octopress</id>
    <content type="html"><![CDATA[<p>I finally realized that I need an image popup plugin. The image plugins that I usually use do not support this. They are fine for normal images but not for larger ones. When I see an screenshot of a tool, I want to be able to zoom in. In my quest I looked at a few plugins and methods and finally decided to use [https://github.com/ctdk/octopress-image-popup][original repo]. It creates resized thumbnails automatically and the installation procedure is short and simple.</p>

<p>However, it did not work for me out of the box. I created a test post with just an image and while the plugin worked, there are things that I did not like about it.</p>

<!-- more -->

<p><div class='bogus-wrapper'><notextile><div class="imgpopup screen">
  <a href='javascript:void(0)' style="text-decoration: none" id="image-18">
    <img src="/images/2015/popup1/pew1.jpg"
         width="225" height="311"
         alt="Click me."/>
  </a>
  <div id="image-dialog-18" style="display:none">
    <img src="/images/2015/popup1/pew1.jpg"
         width="449" height="621"/>
    <br clear="all"/>
  </div>
</div>
<script type="text/javascript">
  jQuery(document).ready(function() {
    jQuery("#image-dialog-18").hide();
    jQuery("#image-dialog-18").dialog({
      autoOpen:  false,
      modal:     true,
      draggable: false,
      minWidth:  489,
      minHeight: 661,
      title:     "test post ",
      show:      'scale',
      hide:      'scale'
    });

    jQuery("#image-18").click(function() {
      jQuery("#image-dialog-18").dialog('open');
    });

  });
</script>
</notextile></div></p>

<p>There is this text “Click the image for a larger view.” and there is also an unresized copy of the image on the page.</p>

<p>By inspecting these two elements, we can find the culprits in the page source (comments are mine).</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>page source </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>…
</span><span class='line'><span class="ni">&amp;lt;</span>div class=&quot;imgpopup screen&quot;<span class="ni">&amp;gt;</span>
</span><span class='line'>  <span class="c">&lt;!-- caption --&gt;</span>
</span><span class='line'>  <span class="ni">&amp;lt;</span>div class=&quot;caption&quot;<span class="ni">&amp;gt;</span>Click the image for a larger view.<span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
</span><span class='line'>  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;javascript:void(0)&quot;</span> <span class="na">style=</span><span class="s">&quot;text-decoration: none&quot;</span> <span class="na">id=</span><span class="s">&quot;image-1&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://parsiya.net/images/2015/pew.jpg&quot;</span> <span class="na">width=</span><span class="s">&quot;300&quot;</span> <span class="na">height=</span><span class="s">&quot;221&quot;</span> <span class="na">alt=</span><span class="s">&quot;Click me.&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>…
</span><span class='line'><span class="c">&lt;!-- unresized copy --&gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>div class=&quot;illustration print&quot;<span class="ni">&amp;gt;</span>
</span><span class='line'>  <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://parsiya.net/images/2015/pew.jpg&quot;</span> <span class="na">width=</span><span class="s">&quot;600&quot;</span> <span class="na">height=</span><span class="s">&quot;441&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>During installation we have only copied two files (apart from editing <code>head.html</code>): <code>img_popup.rb</code> and <code>img_popup.html.erb</code>. The html file is probably your first guess to and you are right. Inside we can see html tags (original copy is at [https://github.com/ctdk/octopress-image-popup/blob/master/plugins/img_popup.html.erb][img_popup.html.erb]):</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>img_popup.html.erb </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>…<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;imgpopup screen&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;caption&quot;</span><span class="nt">&gt;</span>Click the image for a larger view.<span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;javascript:void(0)&quot;</span> <span class="na">style=</span><span class="s">&quot;text-decoration: none&quot;</span> <span class="na">id=</span><span class="s">&quot;image-&amp;lt;%= id %&amp;gt;&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;&amp;lt;%= scaled_image %&amp;gt;&quot;</span> <span class="na">width=</span><span class="s">&quot;&amp;lt;%= scaled_width %&amp;gt;&quot;</span> <span class="na">height=</span><span class="s">&quot;&amp;lt;%= scaled_height %&amp;gt;&quot;</span> <span class="na">alt=</span><span class="s">&quot;Click me.&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/a&gt;</span>
</span><span class='line'>
</span><span class='line'>...
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;illustration print&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;&amp;lt;%= image %&amp;gt;&quot;</span> <span class="na">width=</span><span class="s">&quot;&amp;lt;%= full_width %&amp;gt;&quot;</span> <span class="na">height=</span><span class="s">&quot;&amp;lt;%= full_height %&amp;gt;&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

I am not quite sure what this `erb` file does but it looks like to be a blueprint for the final html content. We can just remove those parts that we want: the caption and the "illustration print" class.

Another problem is after we click on the image. There is no space between image title and the "close" link.

<div class='bogus-wrapper'><notextile><div class="imgpopup screen">
  <a href='javascript:void(0)' style="text-decoration: none" id="image-19">
    <img src="/images/2015/popup1/pew2.jpg"
         width="280" height="284"
         alt="Click me."/>
  </a>
  <div id="image-dialog-19" style="display:none">
    <img src="/images/2015/popup1/pew2.jpg"
         width="560" height="568"/>
    <br clear="all"/>
  </div>
</div>
<script type="text/javascript">
  jQuery(document).ready(function() {
    jQuery("#image-dialog-19").hide();
    jQuery("#image-dialog-19").dialog({
      autoOpen:  false,
      modal:     true,
      draggable: false,
      minWidth:  600,
      minHeight: 608,
      title:     "pew pew popup ",
      show:      'scale',
      hide:      'scale'
    });

    jQuery("#image-19").click(function() {
      jQuery("#image-dialog-19").dialog('open');
    });

  });
</script>
</notextile></div>

To fix this we need to modify `img_popup.rb` (original at [https://github.com/ctdk/octopress-image-popup/blob/master/plugins/img_popup.rb][img_popup.rb]):

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>img_popup.rb </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>...
</span><span class='line'>vars = {
</span><span class='line'>  &#39;id&#39;      =<span class="ni">&amp;gt;</span> @@id.to_s,
</span><span class='line'>  &#39;image&#39;   =<span class="ni">&amp;gt;</span> @path,
</span><span class='line'>  &#39;title&#39;   =<span class="ni">&amp;gt;</span> @title
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure></notextile></div>

We can see `title` saved in `vars['title']`. So we can just add a space to the end of it using the following line:  
`vars['title'] += " "`

And that's it, it works as you can see in this post. Modified code is at: [https://bitbucket.org/parsiya/octopress-image-popup-forked][modified_code]. I hope I did not mess up the licensing and such :).

Update August 1, 2015: The tag adds this annoying extra line(s) before the image on the page. I have not had time to look into removing it. To be honest I do not like it that much. I will be using the image caption tag if the image is big enough to not need a pop-up.

[original repo]: https://github.com/ctdk/octopress-image-popup
[img_popup.html.erb]: https://github.com/ctdk/octopress-image-popup/blob/master/plugins/img_popup.html.erb
[img_popup.rb]: https://github.com/ctdk/octopress-image-popup/blob/master/plugins/img_popup.rb
[modified_code]: https://bitbucket.org/parsiya/octopress-image-popup-forked
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MarkDown and Cookie Clicker]]></title>
    <link href="http://parsiya.net/blog/2013-09-15-markdown-and-cookie-clicker/"/>
    <updated>2013-09-15T18:23:00-04:00</updated>
    <id>http://parsiya.net/blog/markdown-and-cookie-clicker</id>
    <content type="html"><![CDATA[<p>Markdown looks like an easy-ish language to start (probably not so easy to master of course).
Although compared to writing LaTeX source, it is a breeze. During my last year at JHU I started writing the reports and what not directly into LaTeX,
I think using MarkDown for blogging and MS Office at work is going to take away my old skills.</p>

<p>On a side note, I am now up to around 500 million cookies per second (CpS) in
<strong><a href="http://orteil.dashnet.org/cookieclicker/">Cookie Clicker</a></strong>. I was stuck at 200 million CpS for a week or so until I could start making Antimatter Condensers. I may have missed them before
as they were not visible in the side-bar and I had to scroll down to see them.</p>

]]></content>
  </entry>
  
</feed>
